package es.urjc.WebElements.Form.FillStrategies;

import es.urjc.WebElements.Form.Form;
import es.urjc.WebElements.Form.Input;

public abstract class FillStrategy {
    int index;
    int size;
    boolean urlVariable;

    public FillStrategy(Form form){
        this.index = 0;
        this.size = form.numberOfInputs();
        this.urlVariable = form.getSubmitUrl().contains("{text}") || form.getSubmitUrl().contains("{number}") || form.getSubmitUrl().contains("{text_payload}");
    }

//    public FillStrategy(FillStrategy fillStrategy){
//        this.index = fillStrategy.index;
//        this.size = fillStrategy.size;
//    }

    public boolean hasNextElement(){return this.index < this.size; }
    public boolean hasNextStep(){
        return this.hasNextElement() || this.urlVariable;
    }

    protected int getIndex(){return this.index;}
    protected void setIndex(int index){
        this.index = index;
    }

    public boolean isUrlVariable() {
        return urlVariable;
    }

    public void changeUrlVariable(){
        this.urlVariable = !this.urlVariable;
    }

    public void fillInputValue(Input input){
        input.setValue("##value_to_fill##");
    }

    public abstract void nextStep(Form form);
}
